<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Contacto - Betty Tech Ware</title>

  <!-- Hoja de estilos principal -->
  <link rel="stylesheet" href="../css/styles.css">

  <!-- Librerías externas para mapa interactivo con Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.min.js"></script>
</head>
<body>
  <!-- Encabezado con logotipo y navegación principal -->
  <header class="site-header">
    <div class="container header-inner">
      <a href="../index.html" class="logo">Betty Tech Ware</a>
      <nav class="main-nav" aria-label="Menú principal">
        <a href="../index.html">Inicio</a>
        <a href="galeria.html">Galería</a>
        <a href="presupuesto.html">Presupuesto</a>
        <a href="contacto.html" class="active">Contacto</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <!-- Sección de contacto con formulario e información -->
    <section class="section">
      <h1>Contacto</h1>
      <p class="muted">Puedes escribirnos o visitarnos en nuestra tienda física.</p>

      <div class="contact-grid">
        <!-- Información de contacto -->
        <div class="contact-info">
          <p><strong>Betty Tech Ware</strong></p>
          <ul class="contact-list">
            <li>C/ Mayor, 1 — 28013 Madrid</li>
            <li>info@bettytechware.test</li>
            <li>+34 600 000 000</li>
          </ul>
          <p style="margin-top:.6rem">
            <a href="presupuesto.html" class="btn-primary">Pedir presupuesto</a>
            <a href="galeria.html" class="btn-outline" style="margin-left:.5rem">Galería</a>
          </p>
        </div>

        <!-- Formulario de contacto -->
        <div class="contact-form card-fieldset" style="padding:1rem">
          <h3>Envía un mensaje</h3>
          <form id="contact-form">
            <label>
              Tu nombre
              <input name="cname" type="text" required>
            </label>
            <label>
              Tu correo
              <input name="cemail" type="email" required>
            </label>
            <label>
              Mensaje
              <textarea name="cmsg" rows="4" required></textarea>
            </label>
            <div style="display:flex;gap:.5rem;justify-content:flex-end">
              <button type="submit" class="btn-primary">Enviar</button>
            </div>
            <div id="contact-result" aria-live="polite" style="margin-top:.5rem"></div>
          </form>
        </div>
      </div>
    </section>

    <!-- Sección con mapa interactivo de ubicación -->
    <section class="section">
      <h2>¿Dónde estamos?</h2>
      <p class="muted">Puedes encontrarnos fácilmente en el centro de Madrid.</p>
      <div id="map" style="height: 400px; border-radius: 8px; margin-top: 1rem"></div>
    </section>
  </main>

  <!-- Pie de página con redes sociales, dirección y aviso legal -->
  <footer class="site-footer">
    <div class="container footer-inner">
      <div class="footer-info">
        <small>© <span id="year"></span> Betty Tech Ware</small>
        <div class="muted small">C/ Mayor, 1 — 28013 Madrid</div>
        <a href="#" class="footer-legal">Aviso legal</a>
      </div>
      <div class="footer-social">
        <span class="muted small">Síguenos:</span>
        <div class="footer-social-icons">
          <a href="#" aria-label="Twitter" class="footer-icon">T</a>
          <a href="#" aria-label="Facebook" class="footer-icon">F</a>
          <a href="#" aria-label="Instagram" class="footer-icon">I</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Script principal del sitio -->
  <script src="../js/main.js"></script>

  <!-- Script para inicializar el mapa con Leaflet -->
  <script>
    // Coordenadas de la tienda
    const tiendaCoords = [40.4168, -3.7038]; // Madrid centro

    // Inicializar mapa
    const map = L.map('map').setView(tiendaCoords, 15);

    // Cargar capa base de OpenStreetMap
    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    // Añadir marcador de ubicación
    L.marker(tiendaCoords).addTo(map).bindPopup('Betty Tech Ware').openPopup();

    // Si el usuario permite geolocalización, mostrar ruta
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(pos => {
        const userCoords = [pos.coords.latitude, pos.coords.longitude];
        L.Routing.control({
          waypoints: [L.latLng(userCoords), L.latLng(tiendaCoords)],
          routeWhileDragging: false,
          show: false,
          addWaypoints: false,
          draggableWaypoints: false,
          createMarker: () => null
        }).addTo(map);
      });
    }
  </script>
</body>
</html>